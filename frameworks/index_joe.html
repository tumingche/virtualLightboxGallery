<!DOCTYPE html>
<html>


<head>
    <meta charset="utf-8"/>
    <title> 3D Lightbox: Image Slider - Joe </title>
    <link type="text/css" rel="stylesheet" href="http://fonts.typotheque.com/WF-023797-007265.css" />
    <link type="text/css" rel="stylesheet" href="css/style_joe.css" />
    <style type="text/css"></style>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript"></script>
</head> 


<body>
<div style="position:absolute;top:0;left:0;width:1920px;height:1080px;margin:0;padding:0;display:block">    
    <div id="panel_img">     
        <img id="myImg_bot" src="img/img_joe/1.jpg" /> 
        <img id="myImg_top" src="img/img_joe/2.jpg" />
        <!-- <img id="imgInfo" src="img/cfa_1/cfa_1_info/1.png" /> -->
    </div> 

    <div id="panel_timeline">
        <div id="timeline_scrollBar">
            <input type="range" name="points" id="myRange" value="1.0" min="1.0" max="12.00" step="0.1" data-show-value="true" autofocus />
        </div>
    </div>

    <div id="description">
        <h1 style="positon:relative;float:left;margin-left:18px;"> Introduction </h1>
        <h1 style="positon:relative;float:left;margin-left:51px;"> Antennae Galaxies </h1>
        <h1 style="positon:relative;float:left;margin-left:7px;"> Cassiopeia A </h1>
        <h1 style="positon:relative;float:left;margin-left:20px;"> M106 (NGC 4258) </h1>
        <h1 style="positon:relative;float:left;margin-left:22px;"> Tycho </h1>
    </div>

    <div id="timeline_text">
        <p id="text_scrollBar_value"> scrollBar value: null </p>
        <p id="text_img_num"> img_num: null </p>
        <p id="text_img_opacity"> img_oppacity: null </p>
        <p id="text_imgInfo_num"> imgInfo_num: null </p>
    </div>
</div>






    <script>
        
document.body.style.transform = "scale(0.53)";
document.body.style.margin = "2px 0 0 -310px"



        $(document).ready(function(e) {

            document.getElementById("myRange").focus;
            var scrollBar = $("#myRange");
            // var imgInfo = $("#imgInfo");
            // imgInfo.hide();


            //$("#myRange").change(function(e) {     //IE
            //$("#myRange").on("input change", function(e) {
            scrollBar.on("input change", function(e) {

                var scrollBar_val = this.value;

                var timelineImg_bot_num = Math.round(scrollBar_val);
                var timelineImg_top_num = Math.floor(scrollBar_val) + 1;  
                var imgInfo_num = Math.round(scrollBar_val * 2 - 1);   
          
                var timelineImg_bot_opacity = Math.cos(Math.abs(scrollBar_val - timelineImg_bot_num) * Math.PI).toFixed(2);
                var timelineImg_top_opacity = Math.sin(Math.abs(scrollBar_val - timelineImg_top_num) * Math.PI).toFixed(2);

                var timelineImg_bot = $("#myImg_bot");
                timelineImg_bot.attr("src", "img/img_joe/" + ((timelineImg_bot_num * 2 ) - 1) + ".jpg");
                var timelineImg_top = $("#myImg_top");
                timelineImg_top.attr("src", "img/img_joe/" + ((timelineImg_top_num - 1) * 2 ) + ".jpg");

                // imgInfo.attr("src", "img/cfa_1/cfa_1_info/" + imgInfo_num + ".png");

if(scrollBar_val >= 0.0 && scrollBar_val < 4.7 )
//scrollBar.val(4.7);
document.getElementById("myRange").step = "0.5";
// else if(scrollBar_val >= 4.5 && scrollBar_val < 6.0 )
// document.getElementById("myRange").step = "0.1";
// else if(scrollBar_val >= 6.0 && scrollBar_val < 6.5 )
// document.getElementById("myRange").step = "0.5";
// else if(scrollBar_val >= 6.5 && scrollBar_val < 7.0 )
// document.getElementById("myRange").step = "0.1";
// else if(scrollBar_val >= 7.0 && scrollBar_val < 7.5 )
// document.getElementById("myRange").step = "0.5";
// else if(scrollBar_val >= 7.5 && scrollBar_val < 9.5 )
// document.getElementById("myRange").step = "0.1";
else
document.getElementById("myRange").step = "0.1";



if(timelineImg_bot_opacity == 1 || timelineImg_top_opacity == 1) {
    if( scrollBar_val >= 4.7 && scrollBar_val != 11.5 && scrollBar_val != 8.5 && scrollBar_val != 7 && scrollBar_val != 4.5) {
        $("<style type='text/css'> input[type=range]:focus::-ms-thumb{background:rgba(255, 0, 0, 1.0)}</style>").appendTo($("head"));
    } else {
        $("<style type='text/css'> input[type=range]:focus::-ms-thumb{background:#b4b4b4}</style>").appendTo($("head")); 
    }
} else {
   $("<style type='text/css'> input[type=range]:focus::-ms-thumb{background:#b4b4b4}</style>").appendTo($("head")); 
}



                $("#myImg_bot").css("opacity", timelineImg_bot_opacity);
                $("#myImg_top").css("opacity", timelineImg_top_opacity);
                $("#imgInfo").css("opacity", "1.0");
  
                $("#text_scrollBar_value").html("scrollBar value: " + scrollBar_val);
                $("#text_img_num").html("bot img num: " + (timelineImg_bot_num*2-1) + "--------------top img num: " + (timelineImg_top_num-1)*2);
                $("#text_img_opacity").html("bot img opacity: " + timelineImg_bot_opacity + "----top img opacity: " + timelineImg_top_opacity); 
                $("#text_imgInfo_num").html("imgInfo_num: " + imgInfo_num);
            });
        });




$("#panel_timeline").show();
$("#timeline_text").hide();
$(document).keypress(function(e){
    var key = e.which;
    // if (key == 13)  $("#panel_timeline").toggle();
    if (key == 32)  $("#timeline_text").toggle();
    // if (key == 105)  $("#imgInfo").toggle();
});
$(document).click(function() {
    $("#myRange").focus();
});
    </script>
</body> 
</html>