<!DOCTYPE html>
<html>


<head>
    <meta charset="utf-8"/>
    <title> 3D Lightbox: astro-art - art 1 </title>
    <link type="text/css" rel="stylesheet" href="http://fonts.typotheque.com/WF-023797-007265.css" />
    <link type="text/css" rel="stylesheet" href="css/style_art_1.css" />
    <style type="text/css"></style>
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript"></script>
</head> 


<body>    
    <div id="panel_img">     
        <img id="myImg_bot" src="img/img_astro_art/art_1/1.jpg" /> 
        <img id="myImg_top" src="img/img_astro_art/art_1/2.jpg" />
        <img id="imgInfo" src="img/img_astro_art/art_1/art_1_info/0.png" />
        <img id="grid" src="img/img_astro_art/art_1/9screens_orig.png" />
    </div> 

    <div id="panel_timeline">
        <div id="timeline_scrollBar">
            <input type="range" name="points" id="myRange" value="1.0" min="1.0" max="5.0" step="0.10" data-show-value="true" autofocus />
        </div>
    </div>

    <div id="description">
        <h1 style="positon:relative;float:left;"> Introduction </h1>
        <h1 style="positon:relative;float:left;margin-left:23px;"> Examining the Surface </h1>
        <h1 style="positon:relative;float:left;margin-left:77px;"> Looking Beneath the Surface </h1>
    </div>




    <div id="timeline_text">
        <p id="text_scrollBar_value"> scrollBar value: null </p>
        <p id="text_img_num"> img_num: null </p>
        <p id="text_img_opacity"> img_oppacity: null </p>
        <p id="text_imgInfo_num"> imgInfo_num: null </p>
    </div>
   







    <script>
        $(document).ready(function(e) {


            document.body.style.transform = "scale(0.53)";
            document.body.style.margin = "2px 0 0 -310px";


            $("#imgInfo").fadeIn("fast");
            $("#timeline_text").hide();
            $("#grid").hide();


            document.getElementById("myRange").focus;
            var scrollBar = $("#myRange");


            //$("#myRange").change(function(e) {     //IE
            //$("#myRange").on("input change", function(e) {
            scrollBar.on("input change", function(e) {

                var scrollBar_val = this.value;

                var timelineImg_bot_num = Math.round(scrollBar_val);
                var timelineImg_top_num = Math.floor(scrollBar_val) + 1;  
                var imgInfo_num = Math.round(scrollBar_val);   
          
                var timelineImg_bot_opacity = Math.cos(Math.abs(scrollBar_val - timelineImg_bot_num) * Math.PI).toFixed(2);
                var timelineImg_top_opacity = Math.sin(Math.abs(scrollBar_val - timelineImg_top_num) * Math.PI).toFixed(2);

                var timelineImg_bot = $("#myImg_bot");
                timelineImg_bot.attr("src", "img/img_astro_art/art_1/" + ((timelineImg_bot_num * 2 ) - 1) + ".jpg");
                var timelineImg_top = $("#myImg_top");
                timelineImg_top.attr("src", "img/img_astro_art/art_1/" + ((timelineImg_top_num - 1) * 2 ) + ".jpg");
                var imgInfo = $("#imgInfo");
                // imgInfo.attr("src", "img/art_1/art_1_info/" + imgInfo_num + ".png");

if(scrollBar_val >= 1.4 && scrollBar_val < 1.9 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/1.png");
} else if(scrollBar_val >= 1.9 && scrollBar_val < 2.3 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/2.png");
} else if(scrollBar_val >= 2.3 && scrollBar_val < 2.7 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/3.png");
} else if(scrollBar_val >= 2.7 && scrollBar_val < 3.8 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/4.png");
} else if(scrollBar_val >= 4.0 && scrollBar_val < 4.4 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/5.png");
} else if(scrollBar_val >= 4.4 && scrollBar_val < 4.7 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/6.png");
} else if(scrollBar_val >= 4.7 && scrollBar_val <= 5.0 ) {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/7.png");
    timelineImg_top.attr("src", "img/img_astro_art/art_1/8.jpg");
    timelineImg_top_opacity = 1;
} else {
    imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/0.png");
    // scrollBar.val(4.7);
    // document.getElementById("myRange").step = "0.10";
    // else if(scrollBar_val >= 4.5 && scrollBar_val < 6.0 )
    // document.getElementById("myRange").step = "0.5";
    // else if(scrollBar_val >= 7.5 && scrollBar_val < 9.5 )
    // document.getElementById("myRange").step = "0.1";
}


if(timelineImg_bot_opacity == 1 || timelineImg_top_opacity == 1) {
    $("<style type='text/css'> input[type=range]:focus::-ms-thumb{background:rgba(255, 255, 255, 1.0)}</style>").appendTo($("head"));
} else {
   $("<style type='text/css'> input[type=range]:focus::-ms-thumb{background:#aaaaaa}</style>").appendTo($("head")); 
}


$(document).keypress(function(e){
    if (e.which === 13) { 
        e.preventDefault();
        scrollBar.val(1.0);
        timelineImg_top.attr("src", "img/img_astro_art/art_1/1.jpg");
        timelineImg_bot.attr("src", "img/img_astro_art/art_1/2.jpg");
        timelineImg_top.css("opacity", "1");
        timelineImg_bot.css("opacity", "0");
        imgInfo.attr("src", "img/img_astro_art/art_1/art_1_info/0.png");
        imgInfo.show();
    }
});



                $("#myImg_bot").css("opacity", timelineImg_bot_opacity);
                $("#myImg_top").css("opacity", timelineImg_top_opacity);
                $("#imgInfo").css("opacity", "1.0");
  
                $("#text_scrollBar_value").html("scrollBar value: " + scrollBar_val);
                $("#text_img_num").html("bot img num: " + (timelineImg_bot_num*2-1) + "--------------top img num: " + (timelineImg_top_num-1)*2);
                $("#text_img_opacity").html("bot img opacity: " + timelineImg_bot_opacity + "----top img opacity: " + timelineImg_top_opacity); 
                $("#text_imgInfo_num").html("imgInfo_num: " + imgInfo_num);
            });
        });





$(document).on("keydown", function(e) {
    if(e.which === 38) { 
        e.preventDefault();
        // $("#imgInfo").toggle();
        $("#imgInfo").fadeToggle("fast");
    }
    if(e.which === 40) { 
        e.preventDefault();
    }
});
$(document).keypress(function(e){
    if (e.which === 32) {
        e.preventDefault(); 
        // $("#timeline_text").toggle();
        // $("#grid").toggle();
    }
});
$(document).on("click", function(e){
    $("#myRange").focus();
});
    </script>
<!--
[LeftArrow]   37     
[UpArrow]     38     
[RightArrow]  39     
[DownArrow]   40
[Space]       32
[Enter]       13
i             105
http://www.k68.org/wp-content/uploads/2010/11/Key_Codes.htm
-->
</body> 
</html>